@baseUrl = http://localhost:8080
# 이미지,영상 업로드 후 반환된 url 값
@imageUrl = https://skillary-s3.s3.ap-northeast-2.amazonaws.com/dev/images/c8997079-4121-45e6-bea1-8901f7e5052a.jpg
@videoUrl = https://skillary-s3.s3.ap-northeast-2.amazonaws.com/dev/videos/127fef22-f365-4e90-b286-d1fc7aa364fe.mp4
@imageUrl2 = https://skillary-s3.s3.ap-northeast-2.amazonaws.com/dev/images/1456a8d0-8d4b-4ccb-a793-42f8b0d56368.jpg


# 파일 업로드  ------------------------------------------------

### 1. 이미지 업로드
POST {{baseUrl}}/api/files/image
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="file"; filename="image_test2.jpg"
Content-Type: image/jpeg

< D:\testfile\image_test2.jpg
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### 2. 영상 업로드
POST {{baseUrl}}/api/files/video
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="file"; filename="video_test.mp4"
Content-Type: video/mp4

< D:\testfile\video_test.mp4
------WebKitFormBoundary7MA4YWxkTrZu0gW--


# 콘텐츠 ------------------------------------------------

### 3. 카테고리 목록 조회
GET {{baseUrl}}/api/contents/categories
Content-Type: application/json

### 4. 콘텐츠 생성
### 프론트에서 파일 업로드 api 선행 → S3 URL 받음 → json 포함해서 보냄
### 무료 콘텐츠인 경우 planId 제거해서 보냄
### 카테고리 : EXERCISE, SPORTS ...
POST {{baseUrl}}/api/contents
Content-Type: application/json
X-Creator-Id: 1

{
  "title": "테스트 콘텐츠 제목1",
  "description": "테스트 콘텐츠 설명입니다.",
  "category": "EXERCISE",
  "planId": 1,
  "thumbnailUrl": "{{imageUrl}}",
  "post": {
    "body": "# 포스트 제목\n\n포스트 본문 내용입니다.\n\n## 이미지 예시\n\n![이미지 설명]({{imageUrl}})\n\n## 영상 예시\n\n[영상 보기]({{videoUrl}})\n\n## 추가 내용\n\n텍스트 내용과 함께 이미지와 영상을 포함할 수 있습니다.",
    "postFiles": [
      "{{imageUrl}}",
      "{{videoUrl}}"
    ]
  }
}

### 5. 콘텐츠 전체 목록 조회 (최신순)
GET {{baseUrl}}/api/contents?page=0&size=10
Content-Type: application/json

### 5-1. 인기 콘텐츠 목록 조회 (조회수 기준)
GET {{baseUrl}}/api/contents/popular?page=0&size=10
Content-Type: application/json

### 5-2. 크리에이터 기준 목록 조회
GET {{baseUrl}}/api/contents/creators/1?page=0&size=10
Content-Type: application/json

### 5-3. 카테고리 기준 목록 조회
GET {{baseUrl}}/api/contents/category/EXERCISE?page=0&size=10
Content-Type: application/json

### 6. 콘텐츠 상세 조회 (포스트,댓글포함 / 조회수 카운팅)
GET {{baseUrl}}/api/contents/1
Content-Type: application/json

### 7. 콘텐츠 수정
PUT {{baseUrl}}/api/contents/1
Content-Type: application/json
X-Creator-Id: 1

{
  "title": "수정된 콘텐츠 제목1",
  "description": "수정된 콘텐츠 설명입니다.",
  "category": "SPORTS",
  "planId": 2,
  "thumbnailUrl": "{{imageUrl2}}",
  "post": {
    "body": "# 수정된 포스트 제목\n\n수정된 포스트 본문입니다.\n\n![수정된 이미지]({{imageUrl2}})\n\n[수정된 영상]({{videoUrl}})",
    "postFiles": [
      "{{imageUrl2}}",
      "{{videoUrl}}"
    ]
  }
}

### 8. 콘텐츠 삭제
DELETE {{baseUrl}}/api/contents/1
Content-Type: application/json
X-Creator-Id: 1

# 댓글 ------------------------------------------------

### 9. 댓글 목록 조회
GET {{baseUrl}}/api/contents/1/comments
Content-Type: application/json

### 10. 댓글 추가 (일반 댓글)
POST {{baseUrl}}/api/contents/1/comments
Content-Type: application/json
X-User-Id: 1

{
  "comment": "테스트 댓글입니다."
}

### 11. 댓글 추가 (대댓글)
POST {{baseUrl}}/api/contents/1/comments
Content-Type: application/json
X-User-Id: 2

{
  "comment": "대댓글 내용입니다.",
  "parentId": 1
}

### 12. 댓글 수정
PUT {{baseUrl}}/api/contents/1/comments/1
Content-Type: application/json
X-User-Id: 1

{
  "comment": "수정된 댓글 내용입니다.",
  "parentId": null
}

### 13. 댓글 좋아요 토글
POST {{baseUrl}}/api/contents/1/comments/1/like
Content-Type: application/json
X-User-Id: 1

### 14. 댓글 삭제
DELETE {{baseUrl}}/api/contents/1/comments/1
Content-Type: application/json
X-User-Id: 1
